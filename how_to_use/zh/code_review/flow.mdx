---
title: "代码审查流程"
---

## 概述

Kody 自动或按需审查您的 PR，添加清晰的建议，并帮助您的团队决定何时合并。以下是其工作原理的简单用户视图。

参考：<a href="https://www.figma.com/board/ZZJcIJMJWGuyzRGMh3w5di/Kodus-Code-Review-Flow?node-id=4-274" target="_blank">Figma 看板</a>


## Kody 何时运行

- PR 打开时
- 新提交推送到 PR（取决于节奏设置）
- 通过评论手动触发：`@kody start-review`

## Kody 何时跳过

- 自上次运行以来没有新提交
- 仅有合并提交且没有实际更改
- 所有更改的文件都被配置的模式忽略
- PR 超过配置的文件限制
- 配置无效或缺失

## Kody 做什么

- 解析应用哪些设置（全局 → 代码库 → 目录）并验证它们
- 收集此 PR 的相关差异和上下文
- 运行 PR 级检查（例如，启用时的自定义规则和跨文件分析）
- 审查更改的文件，重点关注差异
- 过滤和优先排序建议以减少噪音（相关性、严重性、去重、保护措施）
- 发布内联评论，并在适用时发布 PR 级摘要
- 如果启用了这些策略，可选择批准或请求更改
- 记住上次分析的提交，以保持后续审查的增量性

## 您会得到什么

- 带有具体建议的内联评论
- 可选的 PR 级摘要，突出显示重点
- 可选状态：已批准或请求更改（如果启用）

## 状态反应

Kody 使用表情符号反应直接在您的 Git 提供商中显示代码审查的实时状态。无需猜测她是在工作、完成还是遇到问题。她总是用最新状态替换之前的表情符号（例如：🚀 → 🎉、👀 或 😕）。

<Note>
支持 GitHub 和 GitLab。Azure DevOps 和 Bitbucket 尚不支持反应。
</Note>

### 每个表情符号的含义

- 🚀 处理中 — Kody 正在处理您的代码：
  - 分析文件
  - 检查规则和策略
  - 生成建议
- 🎉 已完成 — 审查已完成：
  - 所有评论已发布
  - 分析完成
  - 您可以查看建议
- 👀 已跳过 — 审查被跳过。常见原因包括：
  - 自上次运行以来没有新提交
  - 仅检测到合并提交
  - PR/MR 超过配置的文件限制
  - 没有相关文件可审查（忽略模式）
  - 分支未配置为审查
  - PR/MR 处于草稿模式（如果配置为跳过草稿）
- 😕 错误 — 出现问题：
  - 审查期间出现临时技术问题
  - 重试；如果问题持续存在，请加入我们的 [Discord 社区](https://discord.gg/TFZBRk9fT6)

### 反应出现的位置

- 自动审查（PR 打开或新提交）：对 PR/MR 描述的反应（线程顶部）
- 手动审查（评论 `@kody start-review`）：对您调用 Kody 的评论的反应

### 示例场景

- 新 PR（自动）：运行时 🚀 → 完成时 🎉
- 手动命令：您的评论上 🚀 → 完成时 🎉
- 自上次运行以来无更改：👀 反应
- 临时问题：😕 反应

### 常见问题

**我看不到反应**
- GitHub/GitLab：✅ | Azure DevOps/Bitbucket：❌（尚不支持）

**为什么表情符号改变了？**
- 正常——Kody 替换之前的状态（🚀 → 🎉/👀/😕）

**我看到了 👀 但想要审查**
- 可能被跳过了：没有新提交、仅合并、忽略的文件或文件限制
- 修复：评论 `@kody start-review`

**我看到了 😕**
- 使用 `@kody start-review` 重试。如果问题持续存在，请查看[故障排除](/how_to_use/en/code_review/troubleshooting)或 [Discord](https://discord.gg/TFZBRk9fT6)

## 重要设置

- 自动与手动审查以及后续节奏
- 忽略模式和范围内的基础分支
- 自定义规则和跨文件分析
- 建议控制：严重性过滤器、分组和最大建议数
- 文件限制和超时

<CardGroup cols={2}>
  <Card title="通用配置" icon="sliders" href="/how_to_use/en/code_review/configs/general">
    配置模式、节奏、分支和建议选项
  </Card>
  <Card title="审查策略" icon="shield-check" href="/how_to_use/en/code_review/policy">
    了解建议与阻塞以及何时启用每种
  </Card>
  <Card title="故障排除" icon="triangle-exclamation" href="/how_to_use/en/code_review/troubleshooting">
    修复常见问题并了解限制
  </Card>
</CardGroup>

## 提示

- 保持 PR 小型——大型差异会降低审查质量
- 在 PR 描述中链接规范/工单
- 处理反馈后使用 `@kody start-review` 重新运行
