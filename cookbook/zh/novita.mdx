---
title: "Novita AI - 无服务器 GPU 平台"
description: "了解如何在 Kodus 中使用 Novita 的模型"
icon: "server"
---

## Novita 的工作原理

Novita 是一个面向 AI 的无服务器基础设施平台，旨在以低延迟和降低成本来扩展开源模型。它支持数百个生产就绪的模型——包括 Llama、Mistral、Claude 和 Stable Diffusion——并提供优化的 API、按需 GPU 和自定义模型部署，无需任何 DevOps 开销。

## 推荐模型

我们推荐具有 +100k 上下文窗口的优秀编码模型。

<Info>
  {" "}
  如需更新信息，请访问 [Novita 官网](https://novita.ai/models/llm)。{" "}
</Info>

| 模型                              | 定价    | 上下文窗口 |
| ---------------------------------- | ---------- | -------------- |
| **Deepseek v3 0324** `推荐` | $0.33/1.3  | ~128k 令牌   |
| **Deepseek R1 0528**               | $0.7/2.5   | ~128k 令牌   |
| **Llama 4 Maverick Instruct**      | $0.17/0.85 | ~100k 令牌   |

## 创建 API 密钥

<Warning>需要 Novita 账户才能创建 API 密钥。</Warning>

直接访问 [Novita 的 API 密钥页面](https://novita.ai/settings/key-management)创建新的 API 密钥。

或者，按照以下步骤操作：

1. 进入您的 Novita 控制台
2. 点击"Manage API Keys"按钮或进入您的个人资料图片并点击 API Keys
3. 点击"Add New Key"并填写'Kodus'或您想要的任何名称
4. 点击"Confirm"
5. 复制 API 密钥并将其保存在安全的地方



<Snippet file="deploy-basic-setup.mdx" />

### 在环境文件中配置 Novita

编辑您的 `.env` 文件并配置核心设置。对于 **LLM 集成**，在固定模式下使用 Novita：

```env
# 核心系统设置（使用您的域名更新）
WEB_HOSTNAME_API="kodus-api.yourdomain.com"
WEB_PORT_API=443
NEXTAUTH_URL="https://kodus-web.yourdomain.com"

# 安全密钥（使用上面的 openssl 命令生成）
WEB_NEXTAUTH_SECRET="your-generated-secret"
WEB_JWT_SECRET_KEY="your-generated-secret"
API_CRYPTO_KEY="your-generated-hex-key"
API_JWT_SECRET="your-generated-secret"
API_JWT_REFRESHSECRET="your-generated-secret"

# 数据库配置
API_PG_DB_PASSWORD="your-secure-db-password"
API_MG_DB_PASSWORD="your-secure-db-password"

# Novita 配置（固定模式）
API_LLM_PROVIDER_MODEL="deepseek-v3-0324"                    # 选择您偏好的模型
API_OPENAI_FORCE_BASE_URL="https://api.novita.ai/v3/openai"  # Novita API URL
API_OPEN_AI_API_KEY="your-novita-api-key"                    # 您的 Novita API 密钥

# Git 提供商 Webhook（选择您的提供商）
API_GITHUB_CODE_MANAGEMENT_WEBHOOK="https://kodus-api.yourdomain.com/github/webhook"
# 或 API_GITLAB_CODE_MANAGEMENT_WEBHOOK="https://kodus-api.yourdomain.com/gitlab/webhook"
# 或 GLOBAL_BITBUCKET_CODE_MANAGEMENT_WEBHOOK="https://kodus-api.yourdomain.com/bitbucket/webhook"
```

<Info>
  **固定模式非常适合 Novita**，因为它提供兼容 OpenAI 的 API，并且只需要一个 API 密钥。这大大简化了您的设置。
</Info>

<Snippet file="deploy-installation.mdx" />

### 6. 设置反向代理（用于生产环境）

对于 Webhook 和外部访问，配置 Nginx：

```nginx
# Web 应用（端口 3000）
server {
    listen 80;
    server_name kodus-web.yourdomain.com;
    location / {
        proxy_pass http://localhost:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}

# API（端口 3001）
server {
    listen 80;
    server_name kodus-api.yourdomain.com;
    location / {
        proxy_pass http://localhost:3001;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```

### 验证 Novita 集成

除了基本的安装验证外，确认 Novita 正常工作：

```bash
# 专门验证 Novita API 连接
docker logs kodus-orchestrator-prod | grep -i novita
```

<Tip>
  有关 SSL 设置、监控和高级配置的详细信息，请参阅我们的[完整部署指南](https://docs.kodus.io/docs/how_to_deploy/en/deploy_kodus/generic_vm)。
</Tip>

### 故障排除

<AccordionGroup>
  <Accordion title="API 密钥问题">
    - 在 [Novita 控制台](https://novita.ai/settings/key-management)中验证您的 API 密钥是否正确且处于活动状态
    - 检查您的 Novita 账户中是否有足够的信用额度
    - 确保您的 `.env` 文件中没有多余的空格
  </Accordion>

  <Accordion title="模型未找到">
    - 检查配置中的模型名称拼写是否正确
    - 验证该模型在您的 Novita 计划中是否可用
    - 尝试使用我们推荐列表中的其他模型
  </Accordion>

  <Accordion title="连接错误">
    - 验证您的服务器是否有互联网访问权限以访问 `api.novita.ai`
    - 检查是否有任何防火墙限制
    - 查看编排器日志以获取详细的错误消息
  </Accordion>
</AccordionGroup>
